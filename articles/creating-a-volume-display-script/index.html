<!doctype html><html><head><title>Creating a volume display script</title><meta name=description content="Creating a volume display script"><meta name=author content><meta charset=utf-8><meta name=viewport content="width=1100"><link rel=stylesheet type=text/css href=/style.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png></head><body><div class=container><div class=header><div class=logo><a href=https://holmdev.github.io>Fredholm</a></div><div class=nav><a href=/about/>about</a>
<a href=/links/>links</a></div></div><div class=content><div class=appellation><h1>Creating a volume display script</h1><h3 class=date>Published: 2022-06-18</h3><h3 class=author>By: Fredholm</h3></div><p>This year I finally moved to Linux from using Windows for 4.5 years. However, there are a few things I missed from Windows, especially being able to see the volume level while adjusting it even when using an application fullscreen. The included Qtile widget wasn&rsquo;t doing it for me so I decided to make my own volume display using <em>dunstify</em>.</p><h3 class=important id=important>Important</h3><p>This script is made for a setup using PulseAudio or Pipewire (with <em>pipewire-pulse</em>) as an audio server and that has <em>pamixer</em> installed. It also requires <em>dunst</em> or a compatible notification daemon.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>dunstify <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=s2>&#34;Volume: </span><span class=k>$(</span><span class=nb>printf</span> <span class=s2>&#34;%03d%%&#34;</span> <span class=k>$(</span>pamixer --get-volume<span class=k>))</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -i volume-level-high <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -r <span class=m>28223</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -h int:value:<span class=k>$(</span>pamixer --get-volume<span class=k>)</span>
</span></span></code></pre></div><p>Result:
<img src=result.gif alt=Result></p><p>And then I added it to my keybinds along side with <em>pamixer</em> to change the volume and then display it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>keys</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>	<span class=o>...</span>
</span></span><span class=line><span class=cl>	<span class=n>Key</span><span class=p>([],</span> <span class=s2>&#34;XF86AudioRaiseVolume&#34;</span><span class=p>,</span> <span class=n>lazy</span><span class=o>.</span><span class=n>spawn</span><span class=p>(</span><span class=s2>&#34;sh -c &#39;pamixer -i 2; ~/.scripts/display-volume&#39;&#34;</span><span class=p>),</span> <span class=n>desc</span><span class=o>=</span><span class=s2>&#34;Raise volume&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>	<span class=n>Key</span><span class=p>([],</span> <span class=s2>&#34;XF86AudioLowerVolume&#34;</span><span class=p>,</span> <span class=n>lazy</span><span class=o>.</span><span class=n>spawn</span><span class=p>(</span><span class=s2>&#34;sh -c &#39;pamixer -d 2; ~/.scripts/display-volume&#39;&#34;</span><span class=p>),</span> <span class=n>desc</span><span class=o>=</span><span class=s2>&#34;Lower volume&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>	<span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><h3 class=note id=nerd-note>Nerd Note</h3><p>I chose the value 28223 for the replacement id, because 6E3F (28223 in hex) is the CRC16 hash of &ldquo;volume&rdquo;</p></div></div></body></html>